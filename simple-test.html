<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Translation Test</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .box { border: 1px solid #ccc; padding: 20px; margin: 10px 0; }
        button { padding: 10px 20px; margin: 5px; background: #007bff; color: white; border: none; cursor: pointer; }
        .output { background: #f8f9fa; padding: 10px; margin: 10px 0; }
    </style>
</head>
<body>
    <h1>Simple Translation Test</h1>
    
    <div class="box">
        <h2>Current Language: <span id="current-lang">Loading...</span></h2>
        <button onclick="switchToEnglish()">English</button>
        <button onclick="switchToChinese()">Chinese</button>
    </div>
    
    <div class="box">
        <h2>Translation Test</h2>
        <div id="translation-output" class="output">Click a language button to test</div>
    </div>
    
    <div class="box">
        <h2>Recipe Test</h2>
        <button onclick="testRecipe()">Test Recipe Translation</button>
        <div id="recipe-output" class="output">Click button to test recipe translation</div>
    </div>

    <script src="js/languages.js"></script>
    <script>
        // Test basic translation
        function updateTranslation() {
            const output = document.getElementById('translation-output');
            output.innerHTML = `
                <p><strong>Basic translations:</strong></p>
                <p>Home: "${t('nav.home')}"</p>
                <p>Recipes: "${t('nav.recipes')}"</p>
                <p>FAQ: "${t('nav.faq')}"</p>
                <p><strong>Recipe translations:</strong></p>
                <p>Pancakes title: "${t('recipe.pancakes.title')}"</p>
                <p>Ingredients: "${t('recipe.pancakes.ingredients')}"</p>
                <p>Instructions: "${t('recipe.pancakes.instructions')}"</p>
                <p>Nutrition: "${t('recipe.pancakes.nutrition')}"</p>
                <p><strong>Ingredient translations:</strong></p>
                <p>Flour: "${t('ingredient.gluten-free-flour')}"</p>
                <p>Sugar: "${t('ingredient.sugar')}"</p>
                <p>Egg: "${t('ingredient.egg')}"</p>
                <p><strong>Step translations:</strong></p>
                <p>Step 1: "${t('recipe.pancakes.step1')}"</p>
                <p>Step 2: "${t('recipe.pancakes.step2')}"</p>
            `;
        }
        
        function switchToEnglish() {
            console.log('Switching to English...');
            setLanguage('en');
            document.getElementById('current-lang').textContent = 'English';
            updateTranslation();
        }
        
        function switchToChinese() {
            console.log('Switching to Chinese...');
            setLanguage('zh');
            document.getElementById('current-lang').textContent = 'Chinese';
            updateTranslation();
        }
        
        function testRecipe() {
            const output = document.getElementById('recipe-output');
            output.innerHTML = `
                <p><strong>Recipe Database Test:</strong></p>
                <p>Current language: ${currentLanguage}</p>
                <p>Available recipes: ${typeof recipeDatabase !== 'undefined' ? recipeDatabase.length : 'Not loaded'}</p>
                <p>Translation function working: ${typeof t === 'function' ? 'Yes' : 'No'}</p>
                <p>Languages available: ${typeof languages !== 'undefined' ? Object.keys(languages).join(', ') : 'Not loaded'}</p>
            `;
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            console.log('Page loaded');
            console.log('Current language:', currentLanguage);
            console.log('Translation function:', typeof t);
            console.log('Languages available:', typeof languages !== 'undefined' ? Object.keys(languages) : 'Not loaded');
            
            document.getElementById('current-lang').textContent = currentLanguage || 'Unknown';
            updateTranslation();
        });
    </script>
</body>
</html>
